{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","components/topbar/Topbar.jsx","dummyData.js","components/closeFriend/CloseFriend.jsx","components/sidebar/Sidebar.jsx","components/post/Post.jsx","components/share/Share.jsx","components/feed/Feed.jsx","components/online/Online.jsx","components/rightbar/Rightbar.jsx","pages/home/Home.jsx","apiCalls.js","pages/login/Login.jsx","pages/profile/Profile.jsx","pages/register/Register.jsx","components/conversations/Conversation.jsx","components/message/Message.jsx","components/chatOnline/ChatOnline.jsx","pages/messenger/Messenger.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","isFetching","error","payload","followings","filter","following","INITIAL_STATE","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","Provider","value","Topbar","PF","process","useContext","className","to","style","textDecoration","Search","placeholder","Person","_id","color","Chat","Notifications","username","src","profilePicture","alt","Users","id","CloseFriend","Sidebar","RssFeed","PlayCircleFilled","Group","Bookmark","Help","WorkOutline","Event","School","map","u","Post","post","useState","likes","length","like","setLike","isLiked","setIsLiked","setUser","currentUser","useEffect","includes","a","axios","get","userId","res","data","fetchUser","deletePost","e","preventDefault","delete","console","log","likeHandler","put","format","createdAt","href","role","data-toggle","aria-haspopup","aria-expanded","MoreVert","class","aria-labelledby","onClick","desc","img","comment","Share","useRef","file","setFile","submitHandler","newPost","current","FormData","fileName","Date","now","name","append","window","location","reload","ref","URL","createObjectURL","Cancel","onSubmit","htmlFor","PermMedia","htmlColor","display","accept","onChange","target","files","Label","Room","EmojiEmotions","Feed","posts","setPosts","sort","p1","p2","fetchPosts","p","Online","Rightbar","friends","setFriends","followed","setFollowed","friendList","getFriends","handleClick","HomeRightBar","ProfileRightBar","Remove","Add","city","from","relationship","friend","Home","loginCall","userCredentail","Login","email","password","required","minLength","disabled","CircularProgress","size","Profile","useParams","coverPicture","Register","passwordAgain","history","useHistory","setCustomValidity","push","position","right","boxSizing","Conversation","conversation","friendId","members","find","m","getUser","Message","message","own","text","ChatOnline","onlineUsers","currentId","setCurrentChat","onlineFriends","setOnlineFriends","f","o","Messenger","conversations","setConversations","currentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","setOnlineUsers","socket","scrollRef","io","on","sender","senderId","prev","emit","users","some","getConversations","getMessages","handleSubmit","conversationId","receiverId","member","scrollIntoView","behavior","c","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0jBAyCeA,EAzCK,SAACC,EAAOC,GACxB,OAAQA,EAAOC,MACX,IAAK,cACD,MAAO,CACHC,KAAM,KACNC,YAAY,EACZC,OAAO,GAEf,IAAK,gBACD,MAAO,CACHF,KAAMF,EAAOK,QACbF,YAAY,EACZC,OAAO,GAEf,IAAK,gBACD,MAAO,CACHF,KAAM,KACNC,YAAY,EACZC,MAAOJ,EAAOK,SAEtB,IAAK,SACD,OAAO,2BACAN,GADP,IAEIG,KAAK,2BACEH,EAAMG,MADT,IAEAI,WAAW,GAAD,mBAAMP,EAAMG,KAAKI,YAAjB,CAA6BN,EAAOK,cAG1D,IAAK,WACD,OAAO,2BACAN,GADP,IAEIG,KAAK,2BACEH,EAAMG,MADT,IAEAI,WAAYP,EAAMO,WAAWC,QAAO,SAACC,GAAD,OAAeA,IAAcR,EAAOK,eAGpF,QACI,OAAON,I,OClCbU,EAAgB,CAWlBP,KAAM,KACNC,YAAY,EACZC,OAAO,GAGEM,EAAcC,wBAAcF,GAE5BG,EAAsB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACvBC,qBAAWhB,EAAaW,GADD,mBAC1CV,EAD0C,KACnCgB,EADmC,KAGjD,OACI,cAACL,EAAYM,SAAb,CAAsBC,MAAO,CAAEf,KAAMH,EAAMG,KAAMC,WAAYJ,EAAMI,WAAYC,MAAOL,EAAMK,MAAOW,YAAnG,SACKF,KCrBE,SAASK,IACpB,IAAMC,EAAKC,gCACHlB,EAASmB,qBAAWX,GAApBR,KAER,OACI,sBAAKoB,UAAU,kBAAf,UACI,qBAAKA,UAAU,aAAf,SACI,cAAC,IAAD,CAAMC,GAAG,IAAIC,MAAO,CAAEC,eAAgB,QAAtC,SACI,sBAAMH,UAAU,OAAhB,0BAGR,qBAAKA,UAAU,eAAf,SACI,sBAAKA,UAAU,YAAf,UACI,cAACI,EAAA,EAAD,CAAQJ,UAAU,eAClB,uBAAOrB,KAAK,OAAOqB,UAAU,cAAcK,YAAY,0CAG/D,sBAAKL,UAAU,cAAf,UACI,sBAAKA,UAAU,cAAf,UACI,sBAAMA,UAAU,aAAhB,sBACA,sBAAMA,UAAU,aAAhB,yBAEJ,sBAAKA,UAAU,cAAf,UACI,sBAAKA,UAAU,iBAAf,UACI,cAACM,EAAA,EAAD,IACA,sBAAMN,UAAU,kBAAhB,kBAEJ,sBAAKA,UAAU,iBAAf,UACI,cAAC,IAAD,CAAMC,GAAI,cAAgBrB,EAAK2B,IAAKL,MAAO,CAAEC,eAAgB,OAAQK,MAAO,SAA5E,SACI,cAACC,EAAA,EAAD,MAEJ,sBAAMT,UAAU,kBAAhB,kBAEJ,sBAAKA,UAAU,iBAAf,UACI,cAACU,EAAA,EAAD,IACA,sBAAMV,UAAU,kBAAhB,qBAGR,cAAC,IAAD,CAAMC,GAAE,mBAAcrB,EAAK+B,UAA3B,SACI,qBAAKC,IAAKhC,EAAKiC,eAAiBhB,EAAKjB,EAAKiC,eAAiBhB,EAAK,sBAAuBiB,IAAI,GAAGd,UAAU,sB,mFC5C/Ge,EAAQ,CACjB,CACIC,GAAI,EACJH,eAAgB,gBAChBF,SAAU,oBAEd,CACIK,GAAI,EACJH,eAAgB,gBAChBF,SAAU,wBAEd,CACIK,GAAI,EACJH,eAAgB,gBAChBF,SAAU,SAEd,CACIK,GAAI,EACJH,eAAgB,gBAChBF,SAAU,4BAEd,CACIK,GAAI,EACJH,eAAgB,gBAChBF,SAAU,U,OCtBH,SAASM,EAAT,GAAgC,IAATrC,EAAQ,EAARA,KAGlC,OACI,qBAAIoB,UAAU,gBAAd,UACI,qBAAKA,UAAU,mBAAmBY,IAJ/Bd,gCAIyClB,EAAKiC,eAAgBC,IAAI,KACrE,sBAAMd,UAAU,oBAAhB,SAAqCpB,EAAK+B,cCHvC,SAASO,IACpB,OACI,qBAAKlB,UAAU,UAAf,SACI,sBAAKA,UAAU,iBAAf,UACI,qBAAIA,UAAU,cAAd,UACI,qBAAIA,UAAU,kBAAd,UACI,cAACmB,EAAA,EAAD,CAASnB,UAAU,gBACnB,sBAAMA,UAAU,kBAAhB,qBAEJ,qBAAIA,UAAU,kBAAd,UACI,cAACS,EAAA,EAAD,CAAMT,UAAU,gBAChB,sBAAMA,UAAU,kBAAhB,sBAEJ,qBAAIA,UAAU,kBAAd,UACI,cAACoB,EAAA,EAAD,CAAkBpB,UAAU,gBAC5B,sBAAMA,UAAU,kBAAhB,uBAEJ,qBAAIA,UAAU,kBAAd,UACI,cAACqB,EAAA,EAAD,CAAOrB,UAAU,gBACjB,sBAAMA,UAAU,kBAAhB,uBAEJ,qBAAIA,UAAU,kBAAd,UACI,cAACsB,EAAA,EAAD,CAAUtB,UAAU,gBACpB,sBAAMA,UAAU,kBAAhB,0BAEJ,qBAAIA,UAAU,kBAAd,UACI,cAACuB,EAAA,EAAD,CAAMvB,UAAU,gBAChB,sBAAMA,UAAU,kBAAhB,0BAEJ,qBAAIA,UAAU,kBAAd,UACI,cAACwB,EAAA,EAAD,CAAaxB,UAAU,gBACvB,sBAAMA,UAAU,kBAAhB,qBAEJ,qBAAIA,UAAU,kBAAd,UACI,cAACyB,EAAA,EAAD,CAAOzB,UAAU,gBACjB,sBAAMA,UAAU,kBAAhB,uBAEJ,qBAAIA,UAAU,kBAAd,UACI,cAAC0B,EAAA,EAAD,CAAQ1B,UAAU,gBAClB,sBAAMA,UAAU,kBAAhB,2BAGR,wBAAQA,UAAU,gBAAlB,uBACA,oBAAIA,UAAU,cACd,oBAAIA,UAAU,oBAAd,SACKe,EAAMY,KAAI,SAAAC,GAAC,OACR,cAACX,EAAD,CAAwBrC,KAAMgD,GAAZA,EAAEZ,c,qEC1C7B,SAASa,EAAT,GAAyB,IAATC,EAAQ,EAARA,KAAQ,EACXC,mBAASD,EAAKE,MAAMC,QADT,mBAC5BC,EAD4B,KACtBC,EADsB,OAELJ,oBAAS,GAFJ,mBAE5BK,EAF4B,KAEnBC,EAFmB,OAGXN,mBAAS,IAHE,mBAG5BnD,EAH4B,KAGtB0D,EAHsB,KAI7BzC,EAAKC,gCACGyC,EAAgBxC,qBAAWX,GAAjCR,KAER4D,qBAAU,WACNH,EAAWP,EAAKE,MAAMS,SAASF,EAAYhC,QAC5C,CAACgC,EAAYhC,IAAKuB,EAAKE,QAE1BQ,qBAAU,YACS,uCAAG,4BAAAE,EAAA,sEACIC,IAAMC,IAAN,wBAA2Bd,EAAKe,SADpC,OACRC,EADQ,OAEdR,EAAQQ,EAAIC,MAFE,2CAAH,qDAIfC,KACD,CAAClB,EAAKe,SAET,IAAMI,EAAU,uCAAG,WAAOC,GAAP,SAAAR,EAAA,6DACfQ,EAAEC,iBADa,kBAGLR,IAAMS,OAAN,iBAAuBtB,EAAKvB,KAAO,CAAEsC,OAAQN,EAAYhC,MAHpD,sDAMX8C,QAAQC,IAAR,MANW,OAQfD,QAAQC,IAAIxB,EAAKvB,KARF,yDAAH,sDAWVgD,EAAc,WAChB,IACIZ,IAAMa,IAAI,UAAY1B,EAAKvB,IAAM,QAAS,CAAEsC,OAAQN,EAAYhC,MAClE,MAAO2C,IAGTG,QAAQC,IAAIxB,EAAKvB,KACjB4B,EAAQC,EAAUF,EAAO,EAAIA,EAAO,GACpCG,GAAYD,IAEhB,OACI,qBAAKpC,UAAU,OAAf,SACI,sBAAKA,UAAU,cAAf,UACI,sBAAKA,UAAU,UAAf,UACI,sBAAKA,UAAU,cAAf,UACI,cAAC,IAAD,CAAMC,GAAE,kBAAarB,EAAK+B,UAA1B,SACI,qBAAKX,UAAU,iBAAiBY,IAAKhC,EAAKiC,eAAiBhB,EAAKjB,EAAKiC,eAAiBhB,EAAK,sBAAuBiB,IAAI,OAE1H,sBAAMd,UAAU,eAAhB,SAAgCpB,EAAK+B,WACrC,sBAAMX,UAAU,WAAhB,SAA4ByD,YAAO3B,EAAK4B,gBAE5C,sBAAK1D,UAAU,eAAf,UACI,mBAAG2D,KAAK,IAAI3C,GAAG,iBAAiB4C,KAAK,SAASC,cAAY,WAAWC,gBAAc,OAAOC,gBAAc,QAAQ7D,MAAO,CAAEM,MAAO,SAAhI,SACI,cAACwD,EAAA,EAAD,CAAUhE,UAAU,OAExB,sBAAKiE,MAAM,gBAAgBC,kBAAgB,iBAA3C,UACI,wBAAQD,MAAM,gBAAgBE,QAASlB,EAAvC,qCACA,wBAAQgB,MAAM,gBAAgBN,KAAK,IAAnC,gDAIZ,sBAAK3D,UAAU,aAAf,UACI,sBAAMA,UAAU,WAAhB,gBAA4B8B,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAMsC,OAClC,qBAAKpE,UAAU,UAAUY,IAAKf,EAAKiC,EAAKuC,IAAKvD,IAAI,QAErD,sBAAKd,UAAU,aAAf,UACI,sBAAKA,UAAU,iBAAf,UACI,qBAAKA,UAAU,WAAWY,IAAG,UAAKf,EAAL,YAAmBsE,QAASZ,EAAazC,IAAI,KAC1E,qBAAKd,UAAU,WAAWY,IAAG,UAAKf,EAAL,aAAoBsE,QAASZ,EAAazC,IAAI,KAC3E,uBAAMd,UAAU,kBAAhB,UAAmCkC,EAAnC,yBAEJ,qBAAKlC,UAAU,kBAAf,SACI,uBAAMA,UAAU,kBAAhB,UAAmC8B,EAAKwC,QAAxC,yB,wDC3ET,SAASC,IACpB,IAAM1E,EAAKC,gCACHlB,EAASmB,qBAAWX,GAApBR,KACFwF,EAAOI,mBAHe,EAIJzC,mBAAS,MAJL,mBAIrB0C,EAJqB,KAIfC,EAJe,KAKtBC,EAAa,uCAAG,WAAOzB,GAAP,mBAAAR,EAAA,yDAClBQ,EAAEC,iBACIyB,EAAU,CACZ/B,OAAQjE,EAAK2B,IACb6D,KAAMA,EAAKS,QAAQlF,QAEnB8E,EANc,wBAOR1B,EAAO,IAAI+B,SACXC,EAAWC,KAAKC,MAAQR,EAAKS,KACnCnC,EAAKoC,OAAO,OAAQJ,GACpBhC,EAAKoC,OAAO,OAAQV,GACpBG,EAAQP,IAAMU,EACd1B,QAAQC,IAAIsB,GAZE,mBAcJjC,IAAMb,KAAK,UAAWiB,GAdlB,QAeVqC,OAAOC,SAASC,SAfN,kDAiBVjC,QAAQC,IAAR,MAjBU,mCAsBRX,IAAMb,KAAK,SAAU8C,GAtBb,6HAAH,sDA2BnB,OACI,qBAAK5E,UAAU,QAAf,SACI,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,kBAAkBY,IAAKhC,EAAKiC,eAAiBhB,EAAKjB,EAAKiC,eAAiBhB,EAAK,sBAAuBiB,IAAI,KACvH,uBAAOnC,KAAK,OAAOqB,UAAU,aAAaK,YAAa,uBAAyBzB,EAAK+B,SAAW,IAAK4E,IAAKnB,OAE9G,oBAAIpE,UAAU,YACbyE,GACG,sBAAKzE,UAAU,oBAAf,UACI,qBAAKA,UAAU,WAAWY,IAAK4E,IAAIC,gBAAgBhB,GAAO3D,IAAI,KAC9D,cAAC4E,EAAA,EAAD,CAAQ1F,UAAU,iBAAiBmE,QAAS,kBAAMO,EAAQ,YAGlE,uBAAM1E,UAAU,cAAc2F,SAAUhB,EAAxC,UACI,sBAAK3E,UAAU,eAAf,UACI,wBAAO4F,QAAQ,OAAO5F,UAAU,cAAhC,UACI,cAAC6F,EAAA,EAAD,CAAWC,UAAU,SAAS9F,UAAU,cACxC,sBAAMA,UAAU,kBAAhB,4BACA,uBAAOE,MAAO,CAAE6F,QAAS,QAAUpH,KAAK,OAAOqC,GAAG,OAAOgF,OAAO,oBAAoBC,SAAU,SAAC/C,GAAD,OAAOwB,EAAQxB,EAAEgD,OAAOC,MAAM,UAEhI,sBAAKnG,UAAU,cAAf,UACI,cAACoG,EAAA,EAAD,CAAON,UAAU,OAAO9F,UAAU,cAClC,sBAAMA,UAAU,kBAAhB,oBAEJ,sBAAKA,UAAU,cAAf,UACI,cAACqG,EAAA,EAAD,CAAMP,UAAU,QAAQ9F,UAAU,cAClC,sBAAMA,UAAU,kBAAhB,yBAEJ,sBAAKA,UAAU,cAAf,UACI,cAACsG,EAAA,EAAD,CAAeR,UAAU,YAAY9F,UAAU,cAC/C,sBAAMA,UAAU,kBAAhB,4BAGR,wBAAQA,UAAU,cAAcrB,KAAK,SAArC,2B,OChEL,SAAS4H,EAAT,GAA6B,IAAb5F,EAAY,EAAZA,SAAY,EACboB,mBAAS,IADI,mBAChCyE,EADgC,KACzBC,EADyB,KAE/B7H,EAASmB,qBAAWX,GAApBR,KAaR,OAXA4D,qBAAU,YACU,uCAAG,4BAAAE,EAAA,0DACH/B,EADG,gCAEHgC,IAAMC,IAAI,kBAAoBjC,GAF3B,yDAGHgC,IAAMC,IAAI,kBAAoBhE,EAAK2B,KAHhC,0BACTuC,EADS,KAIf2D,EAAS3D,EAAIC,KAAK2D,MAAK,SAACC,EAAIC,GACxB,OAAO,IAAI5B,KAAK4B,EAAGlD,WAAa,IAAIsB,KAAK2B,EAAGjD,eALjC,4CAAH,qDAQhBmD,KACD,CAAClG,EAAU/B,EAAK2B,MAEf,qBAAKP,UAAU,OAAf,SACI,sBAAKA,UAAU,cAAf,UACKW,IAAa/B,EAAK+B,UAAY,cAAC4D,EAAD,IAC9BiC,EAAM7E,KAAI,SAACmF,GAAD,OACP,cAACjF,EAAD,CAAkBC,KAAMgF,GAAbA,EAAEvG,a,cCxBlB,SAASwG,EAAT,GAA2B,IAATnI,EAAQ,EAARA,KAY7B,OACI,qBAAIoB,UAAU,iBAAd,UACI,sBAAKA,UAAU,8BAAf,UACI,qBAAKA,UAAU,qBAAqBY,IAbrCd,gCAa+ClB,EAAKiC,eAAgBC,IAAI,KACvE,sBAAMd,UAAU,sBAEpB,sBAAMA,UAAU,mBAAhB,SAAoCpB,EAAK+B,c,sBCbtC,SAASqG,EAAT,GAA6B,IAATpI,EAAQ,EAARA,KACzBiB,EAAKC,gCAD4B,EAETiC,mBAAS,IAFA,mBAEhCkF,EAFgC,KAEvBC,EAFuB,OAGCnH,qBAAWX,GAArCmD,EAHyB,EAG/B3D,KAAmBa,EAHY,EAGZA,SAHY,EAKPsC,mBAC5BQ,EAAYvD,WAAWyD,SAAvB,OAAgC7D,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAMoC,KANH,mBAKhCmG,EALgC,KAKtBC,EALsB,KASvC5E,qBAAU,YACU,uCAAG,4BAAAE,EAAA,+EAEcC,IAAMC,IAAI,kBAAoBhE,EAAK2B,KAFjD,OAEL8G,EAFK,OAGXH,EAAWG,EAAWtE,MAHX,gDAKXM,QAAQC,IAAR,MALW,yDAAH,qDAQhBgE,KACD,CAAC1I,IAEJ,IAAM2I,EAAW,uCAAG,sBAAA7E,EAAA,mEAERyE,EAFQ,gCAGFxE,IAAMa,IAAI,UAAY5E,EAAK2B,IAAM,YAAa,CAAEsC,OAAQN,EAAYhC,MAHlE,OAIRd,EAAS,CAAEd,KAAM,WAAYI,QAASH,EAAK2B,MAJnC,uCAMFoC,IAAMa,IAAI,UAAY5E,EAAK2B,IAAM,UAAW,CAAEsC,OAAQN,EAAYhC,MANhE,OAORd,EAAS,CAAEd,KAAM,SAAUI,QAASH,EAAK2B,MAPjC,QASZ6G,GAAaD,GATD,kDAWZ9D,QAAQC,IAAR,MAXY,0DAAH,qDAeXkE,EAAe,WACjB,OACI,qCACI,sBAAKxH,UAAU,oBAAf,UACI,qBAAKA,UAAU,cAAcY,IAAG,UAAKf,EAAL,YAAmBiB,IAAI,KACvD,uBAAMd,UAAU,eAAhB,cAAgC,0CAAhC,QAAqD,gDAArD,+BAEJ,qBAAKA,UAAU,aAAaY,IAAI,gBAAgBE,IAAI,KACpD,oBAAId,UAAU,gBAAd,4BACA,oBAAIA,UAAU,qBAAd,SACKe,EAAMY,KAAI,SAAAC,GAAC,OACR,cAACmF,EAAD,CAAmBnI,KAAMgD,GAAZA,EAAEZ,aAO7ByG,EAAkB,WACpB,OACI,qCACK7I,EAAK+B,WAAa4B,EAAY5B,UAC3B,yBAAQX,UAAU,uBAAuBmE,QAASoD,EAAlD,UACKJ,EAAW,WAAa,SACxBA,EAAW,cAACO,EAAA,EAAD,IAAa,cAACC,EAAA,EAAD,OAGjC,oBAAI3H,UAAU,gBAAd,6BACA,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,mBAAf,UACI,sBAAMA,UAAU,kBAAhB,mBACA,sBAAMA,UAAU,oBAAhB,SAAqCpB,EAAKgJ,UAE9C,sBAAK5H,UAAU,mBAAf,UACI,sBAAMA,UAAU,kBAAhB,mBACA,sBAAMA,UAAU,oBAAhB,SAAqCpB,EAAKiJ,UAE9C,sBAAK7H,UAAU,mBAAf,UACI,sBAAMA,UAAU,kBAAhB,2BACA,sBAAMA,UAAU,oBAAhB,SAA2D,IAAtBpB,EAAKkJ,aAAqB,SAAiC,IAAtBlJ,EAAKkJ,aAAqB,UAAY,SAEpH,oBAAI9H,UAAU,gBAAd,0BACA,qBAAKA,UAAU,qBAAf,SACKiH,EAAQtF,KAAI,SAACoG,GAAD,OACT,cAAC,IAAD,CAAM9H,GAAI,YAAc8H,EAAOpH,SAAUT,MAAO,CAAEC,eAAgB,OAAQK,MAAO,SAAjF,SACI,sBAAKR,UAAU,oBAAf,UACI,qBAAKA,UAAU,uBAAuBY,IAAKmH,EAAOlH,eAAiBhB,EAAKkI,EAAOlH,eAAiBhB,EAAK,sBAAuBiB,IAAI,KAChI,sBAAMd,UAAU,wBAAhB,SAAyC+H,EAAOpH,4BAShF,OACI,qBAAKX,UAAU,WAAf,SACI,qBAAKA,UAAU,kBAAf,SACKpB,EAAO,cAAC6I,EAAD,IAAsB,cAACD,EAAD,Q,OCjG/B,SAASQ,IAAQ,IACpBpJ,EAASmB,qBAAWX,GAApBR,KAER,OACI,qCACI,cAACgB,EAAD,IACA,sBAAKI,UAAU,gBAAf,UACI,cAACkB,EAAD,IACA,cAACqF,EAAD,CAAM5F,SAAU/B,EAAK+B,WACrB,cAACqG,EAAD,U,WCdHiB,EAAS,uCAAG,WAAOC,EAAgBzI,GAAvB,eAAAiD,EAAA,6DACrBjD,EAAS,CAAEd,KAAM,gBADI,kBAGCgE,IAAMb,KAAK,aAAcoG,GAH1B,OAGXpF,EAHW,OAIjBrD,EAAS,CAAEd,KAAM,gBAAiBI,QAAS+D,EAAIC,OAJ9B,gDAMjBtD,EAAS,CAAEd,KAAM,gBAAiBI,QAAQ,EAAD,KANxB,yDAAH,wD,SCKP,SAASoJ,KACpB,IAAMC,EAAQ5D,mBACR6D,EAAW7D,mBAFW,EAGkBzE,qBAAWX,GAAjDR,EAHoB,EAGpBA,KAAMC,EAHc,EAGdA,WAAmBY,GAHL,EAGFX,MAHE,EAGKW,UASjC,OAFA4D,QAAQC,IAAI1E,GAGR,qBAAKoB,UAAU,QAAf,SACI,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,sBACA,sBAAMA,UAAU,YAAhB,2EAIJ,qBAAKA,UAAU,aAAf,SACI,uBAAMA,UAAU,WAAW2F,SAjBvB,SAACzC,GACjBA,EAAEC,iBACF8E,EAAU,CAAEG,MAAOA,EAAMvD,QAAQlF,MAAO0I,SAAUA,EAASxD,QAAQlF,OAASF,IAehE,UACI,uBAAOY,YAAY,QAAQ1B,KAAK,QAAQqB,UAAU,aAAauF,IAAK6C,EAAOE,UAAQ,IACnF,uBAAOjI,YAAY,WAAW1B,KAAK,WAAWqB,UAAU,aAAauF,IAAK8C,EAAUC,UAAQ,EAACC,UAAU,MACvG,wBAAQvI,UAAU,cAAcrB,KAAK,SAAS6J,SAAU3J,EAAxD,SAAqEA,EAAa,cAAC4J,EAAA,EAAD,CAAkBjI,MAAM,YAAYkI,KAAK,SAAY,WACvI,sBAAM1I,UAAU,cAAhB,8BACA,wBAAQA,UAAU,sBAAlB,SACKnB,EAAa,cAAC4J,EAAA,EAAD,CAAkBjI,MAAM,YAAYkI,KAAK,SAAY,mC,mBC1BhF,SAASC,KACpB,IAAM9I,EAAKC,gCADmB,EAENiC,mBAAS,IAFH,mBAEvBnD,EAFuB,KAEjB0D,EAFiB,KAGxB3B,EAAWiI,eAAYjI,SAU7B,OARA6B,qBAAU,YACS,uCAAG,4BAAAE,EAAA,sEACIC,IAAMC,IAAN,0BAA6BjC,IADjC,OACRmC,EADQ,OAEdR,EAAQQ,EAAIC,MAFE,2CAAH,qDAIfC,KACD,CAACrC,IAGA,qCACI,cAACf,EAAD,IACA,sBAAKI,UAAU,UAAf,UACI,cAACkB,EAAD,IACA,sBAAKlB,UAAU,eAAf,UACI,sBAAKA,UAAU,kBAAf,UACI,sBAAKA,UAAU,eAAf,UACI,qBAAKA,UAAU,kBAAkBY,IAAKhC,EAAKiK,aAAehJ,EAAKjB,EAAKiK,aAAehJ,EAAK,qBAAsBiB,IAAI,KAClH,qBAAKd,UAAU,iBAAiBY,IAAKhC,EAAKiC,eAAiBhB,EAAKjB,EAAKiC,eAAiBhB,EAAK,sBAAuBiB,IAAI,QAE1H,sBAAKd,UAAU,cAAf,UACI,oBAAIA,UAAU,kBAAd,SAAiCpB,EAAK+B,WACtC,sBAAMX,UAAU,kBAAhB,SAAmCpB,EAAKwF,aAGhD,sBAAKpE,UAAU,qBAAf,UACI,cAACuG,EAAD,CAAM5F,SAAUA,IAChB,cAACqG,EAAD,CAAUpI,KAAMA,gB,OClCzB,SAASkK,KACpB,IAAMnI,EAAW6D,mBACX4D,EAAQ5D,mBACR6D,EAAW7D,mBACXuE,EAAgBvE,mBAChBwE,EAAUC,eAEV1B,EAAW,uCAAG,WAAOrE,GAAP,eAAAR,EAAA,yDAChBQ,EAAEC,iBACE4F,EAAclE,QAAQlF,QAAU0I,EAASxD,QAAQlF,MAFrC,gBAGZ0I,EAASxD,QAAQqE,kBAAkB,wBAHvB,8BAKNtK,EAAO,CACT+B,SAAUA,EAASkE,QAAQlF,MAC3ByI,MAAOA,EAAMvD,QAAQlF,MACrB0I,SAAUA,EAASxD,QAAQlF,OARnB,kBAWUgD,IAAMb,KAAK,iBAAkBlD,GAXvC,cAYRoK,EAAQG,KAAK,UAZL,kDAcR9F,QAAQC,IAAR,MAdQ,0DAAH,sDAkBjB,OACI,qBAAKtD,UAAU,QAAf,SACI,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,sBACA,sBAAMA,UAAU,YAAhB,2EAIJ,qBAAKA,UAAU,aAAf,SACI,uBAAMA,UAAU,WAAW2F,SAAU4B,EAArC,UACI,uBAAOlH,YAAY,WAAWL,UAAU,aAAauF,IAAK5E,EAAU2H,UAAQ,IAC5E,uBAAOjI,YAAY,QAAQL,UAAU,aAAauF,IAAK6C,EAAOE,UAAQ,EAAC3J,KAAK,UAC5E,uBAAO0B,YAAY,WAAWL,UAAU,aAAauF,IAAK8C,EAAUC,UAAQ,EAAC3J,KAAK,WAAW4J,UAAU,MACvG,uBAAOlI,YAAY,iBAAiBL,UAAU,aAAauF,IAAKwD,EAAeT,UAAQ,EAAC3J,KAAK,aAC7F,wBAAQqB,UAAU,cAAcrB,KAAK,SAArC,qBACA,cAAC,IAAD,CAAMsB,GAAI,SAAUC,MAAO,CAAEkJ,SAAU,WAAYC,MAAO,QAASC,UAAW,cAA9E,SACI,wBAAQtJ,UAAU,sBAAlB,0C,cC5Cb,SAASuJ,GAAT,GAAsD,IAA9BC,EAA6B,EAA7BA,aAAcjH,EAAe,EAAfA,YAAe,EACxCR,mBAAS,MAD+B,mBACzDnD,EADyD,KACnD0D,EADmD,KAE1DzC,EAAKC,gCAgBX,OAdA0C,qBAAU,WACN,IAAMiH,EAAWD,EAAaE,QAAQC,MAAK,SAACC,GAAD,OAAOA,IAAMrH,EAAYhC,QAEvD,uCAAG,4BAAAmC,EAAA,+EAEUC,IAAM,iBAAmB8G,GAFnC,OAEF3G,EAFE,OAGRR,EAAQQ,EAAIC,MAHJ,gDAKRM,QAAQC,IAAR,MALQ,yDAAH,qDAQbuG,KACD,CAACtH,EAAaiH,IAGb,sBAAKxJ,UAAU,eAAf,UACI,qBACIA,UAAU,kBACVY,KACQ,OAAJhC,QAAI,IAAJA,OAAA,EAAAA,EAAMiC,gBACAhB,EAAKjB,EAAKiC,eACVhB,EAAK,sBAEfiB,IAAI,KAER,sBAAMd,UAAU,mBAAhB,gBAAoCpB,QAApC,IAAoCA,OAApC,EAAoCA,EAAM+B,c,OC9BvC,SAASmJ,GAAT,GAAoC,IAAjBC,EAAgB,EAAhBA,QAASC,EAAO,EAAPA,IACvC,OACI,sBAAKhK,UAAWgK,EAAM,cAAgB,UAAtC,UACI,sBAAKhK,UAAU,aAAf,UACI,qBACIA,UAAU,aACVY,IAAI,2GACJE,IAAI,KAER,mBAAGd,UAAU,cAAb,SAA4B+J,EAAQE,UAExC,qBAAKjK,UAAU,gBAAf,SAAgCyD,YAAOsG,EAAQrG,gB,OCV5C,SAASwG,GAAT,GAAiE,IAA3CC,EAA0C,EAA1CA,YAAaC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,eAAkB,EAC7CtI,mBAAS,IADoC,mBACpEkF,EADoE,KAC3DC,EAD2D,OAEjCnF,mBAAS,IAFwB,mBAEpEuI,EAFoE,KAErDC,EAFqD,KAGrE1K,EAAKC,gCAEX0C,qBAAU,YACU,uCAAG,4BAAAE,EAAA,sEACGC,IAAMC,IAAI,kBAAoBwH,GADjC,OACTtH,EADS,OAEfoE,EAAWpE,EAAIC,MAFA,2CAAH,qDAKhBuE,KACD,CAAC8C,IAEJ5H,qBAAU,WACN+H,EAAiBtD,EAAQhI,QAAO,SAACuL,GAAD,OAAOL,EAAY1H,SAAS+H,EAAEjK,WAC/D,CAAC0G,EAASkD,IAEb,IAAM5C,EAAW,uCAAG,WAAO3I,GAAP,eAAA8D,EAAA,+EAEMC,IAAMC,IAAN,8BACSwH,EADT,YACsBxL,EAAK2B,MAHjC,OAENuC,EAFM,OAKZuH,EAAevH,EAAIC,MALP,gDAOZM,QAAQC,IAAR,MAPY,yDAAH,sDAWjB,OACI,qBAAKtD,UAAU,aAAf,SACKsK,EAAc3I,KAAI,SAAC8I,GAAD,OACf,sBAAKzK,UAAU,mBAAmBmE,QAAS,kBAAMoD,EAAYkD,IAA7D,UACI,sBAAKzK,UAAU,yBAAf,UACI,qBACIA,UAAU,gBACVY,KACK,OAAD6J,QAAC,IAADA,OAAA,EAAAA,EAAG5J,gBACGhB,EAAK4K,EAAE5J,eACPhB,EAAK,sBAEfiB,IAAI,KAER,qBAAKd,UAAU,uBAEnB,sBAAMA,UAAU,iBAAhB,gBAAkCyK,QAAlC,IAAkCA,OAAlC,EAAkCA,EAAG9J,mB,aCvC1C,SAAS+J,KAAa,IAAD,EACU3I,mBAAS,IADnB,mBACzB4I,EADyB,KACVC,EADU,OAEM7I,mBAAS,MAFf,mBAEzB8I,EAFyB,KAEZR,EAFY,OAGAtI,mBAAS,IAHT,mBAGzB+I,EAHyB,KAGfC,EAHe,OAIIhJ,mBAAS,IAJb,mBAIzBiJ,EAJyB,KAIbC,EAJa,OAKYlJ,mBAAS,MALrB,mBAKzBmJ,EALyB,KAKTC,EALS,OAMMpJ,mBAAS,IANf,mBAMzBoI,EANyB,KAMZiB,EANY,KAO1BC,EAAS7G,mBACP5F,EAASmB,qBAAWX,GAApBR,KACF0M,EAAY9G,mBAElBhC,qBAAU,WACN6I,EAAOxG,QAAU0G,cAAG,uBACpBF,EAAOxG,QAAQ2G,GAAG,cAAc,SAACzI,GAC7BoI,EAAkB,CACdM,OAAQ1I,EAAK2I,SACbzB,KAAMlH,EAAKkH,KACXvG,UAAWsB,KAAKC,aAGzB,IAEHzC,qBAAU,WACN0I,IAAc,OACVL,QADU,IACVA,OADU,EACVA,EAAanB,QAAQjH,SAASyI,EAAeO,UAC7CV,GAAY,SAACY,GAAD,4BAAcA,GAAd,CAAoBT,SACrC,CAACA,EAAgBL,IAEpBrI,qBAAU,WACN6I,EAAOxG,QAAQ+G,KAAK,UAAWhN,EAAK2B,KACpC8K,EAAOxG,QAAQ2G,GAAG,YAAY,SAACK,GAC3BT,EACIxM,EAAKI,WAAWC,QAAO,SAACuL,GAAD,OAAOqB,EAAMC,MAAK,SAAClK,GAAD,OAAOA,EAAEiB,SAAW2H,cAGtE,CAAC5L,IAEJ4D,qBAAU,YACgB,uCAAG,4BAAAE,EAAA,+EAECC,IAAMC,IAAI,kBAAoBhE,EAAK2B,KAFpC,OAEXuC,EAFW,OAGjB8H,EAAiB9H,EAAIC,MAHJ,gDAKjBM,QAAQC,IAAR,MALiB,yDAAH,qDAQtByI,KACD,CAACnN,EAAK2B,MAETiC,qBAAU,YACW,uCAAG,4BAAAE,EAAA,+EAEMC,IAAMC,IAAI,qBAAeiI,QAAf,IAAeA,OAAf,EAAeA,EAAatK,MAF5C,OAENuC,EAFM,OAGZiI,EAAYjI,EAAIC,MAHJ,gDAKZM,QAAQC,IAAR,MALY,yDAAH,qDAQjB0I,KACD,CAACnB,IAEJ,IAAMoB,EAAY,uCAAG,WAAO/I,GAAP,mBAAAR,EAAA,6DACjBQ,EAAEC,iBACI4G,EAAU,CACZ0B,OAAQ7M,EAAK2B,IACb0J,KAAMe,EACNkB,eAAgBrB,EAAYtK,KAG1B4L,EAAatB,EAAYnB,QAAQC,MACnC,SAACyC,GAAD,OAAYA,IAAWxN,EAAK2B,OAGhC8K,EAAOxG,QAAQ+G,KAAK,cAAe,CAC/BF,SAAU9M,EAAK2B,IACf4L,aACAlC,KAAMe,IAfO,kBAmBKrI,IAAMb,KAAK,YAAaiI,GAnB7B,OAmBPjH,EAnBO,OAoBbiI,EAAY,GAAD,mBAAKD,GAAL,CAAehI,EAAIC,QAC9BkI,EAAc,IArBD,kDAuBb5H,QAAQC,IAAR,MAvBa,0DAAH,sDA+BlB,OAJAd,qBAAU,WAAO,IAAD,EACZ,UAAA8I,EAAUzG,eAAV,SAAmBwH,eAAe,CAAEC,SAAU,aAC/C,CAACxB,IAGA,qCACI,cAAClL,EAAD,IACA,sBAAKI,UAAU,YAAf,UACI,qBAAKA,UAAU,WAAf,SACI,sBAAKA,UAAU,kBAAf,UACI,uBAAOK,YAAY,qBAAqBL,UAAU,kBACjD2K,EAAchJ,KAAI,SAAC4K,GAAD,OACf,qBAAKpI,QAAS,kBAAMkG,EAAekC,IAAnC,SACI,cAAChD,GAAD,CAAcC,aAAc+C,EAAGhK,YAAa3D,cAK5D,qBAAKoB,UAAU,UAAf,SACI,qBAAKA,UAAU,iBAAf,SACK6K,EACG,qCACI,qBAAK7K,UAAU,aAAf,SACK8K,EAASnJ,KAAI,SAACiI,GAAD,OACV,qBAAKrE,IAAK+F,EAAV,SACI,cAACxB,GAAD,CAASC,QAASH,EAAGI,IAAKJ,EAAE6B,SAAW7M,EAAK2B,aAIxD,sBAAKP,UAAU,gBAAf,UACI,0BACIA,UAAU,mBACVK,YAAY,qBACZ4F,SAAU,SAAC/C,GAAD,OAAO+H,EAAc/H,EAAEgD,OAAOvG,QACxCA,MAAOqL,IAEX,wBAAQhL,UAAU,mBAAmBmE,QAAS8H,EAA9C,wBAMR,sBAAMjM,UAAU,qBAAhB,sDAMZ,qBAAKA,UAAU,aAAf,SACI,qBAAKA,UAAU,oBAAf,SACI,cAACkK,GAAD,CACIC,YAAaA,EACbC,UAAWxL,EAAK2B,IAChB8J,eAAgBA,cChH7BmC,OA1Bf,WAAgB,IACN5N,EAASmB,qBAAWX,GAApBR,KAER,OACE,cAAC,IAAD,UACE,eAAC,KAAD,WACE,cAAC,KAAD,CAAO6N,OAAK,EAACC,KAAK,IAAlB,SACG9N,EAAO,cAACoJ,EAAD,IAAW,cAACc,GAAD,MAErB,cAAC,KAAD,CAAO4D,KAAK,SAAZ,SACG9N,EAAO,cAAC,KAAD,CAAUqB,GAAG,MAAS,cAACkI,GAAD,MAEhC,cAAC,KAAD,CAAOuE,KAAK,YAAZ,SACG9N,EAAO,cAAC,KAAD,CAAUqB,GAAG,MAAS,cAAC6I,GAAD,MAEhC,cAAC,KAAD,CAAO4D,KAAK,qBAAZ,SACE,cAAC/D,GAAD,MAEF,cAAC,KAAD,CAAO+D,KAAK,qBAAZ,SACI9N,EAA6B,cAAC8L,GAAD,IAAtB,cAAC,KAAD,CAAUzK,GAAG,cC3BhC0M,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,GAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.9d5bdb44.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"LOGIN_START\":\r\n            return {\r\n                user: null,\r\n                isFetching: true,\r\n                error: false\r\n            };\r\n        case \"LOGIN_SUCCESS\":\r\n            return {\r\n                user: action.payload,\r\n                isFetching: false,\r\n                error: false\r\n            };\r\n        case \"LOGIN_FAILURE\":\r\n            return {\r\n                user: null,\r\n                isFetching: false,\r\n                error: action.payload\r\n            };\r\n        case \"FOLLOW\":\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    followings: [...state.user.followings, action.payload]\r\n                }\r\n            };\r\n        case \"UNFOLLOW\":\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    followings: state.followings.filter((following) => following !== action.payload)\r\n                }\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default AuthReducer;","import { createContext, useReducer } from 'react';\r\nimport AuthReducer from './AuthReducer';\r\n\r\nconst INITIAL_STATE = {\r\n    // user: {\r\n    //     _id: \"60d15f676ddd2c2674c592b9\",\r\n    //     username: \"MinhNT\",\r\n    //     email: \"minh@gmail.com\",\r\n    //     profilePicture: \"person/2.jpeg\",\r\n    //     coverPicture: \"post/2.jpeg\",\r\n    //     isAdmin: false,\r\n    //     follows: [],\r\n    //     followings: []\r\n    // },\r\n    user: null,\r\n    isFetching: false,\r\n    error: false\r\n};\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE)\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user: state.user, isFetching: state.isFetching, error: state.error, dispatch }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}","import \"./topbar.css\"\r\nimport { Search, Person, Chat, Notifications } from \"@material-ui/icons\"\r\nimport { Link } from 'react-router-dom'\r\nimport { AuthContext } from '../../context/AuthContext.js'\r\nimport { useContext } from \"react\"\r\nexport default function Topbar() {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const { user } = useContext(AuthContext)\r\n\r\n    return (\r\n        <div className=\"topbarContainer\">\r\n            <div className=\"topbarLeft\">\r\n                <Link to='/' style={{ textDecoration: 'none' }}>\r\n                    <span className=\"logo\">Facebook</span>\r\n                </Link>\r\n            </div>\r\n            <div className=\"topbarCenter\">\r\n                <div className=\"searchbar\">\r\n                    <Search className=\"searchIcon\" />\r\n                    <input type=\"text\" className=\"searchInput\" placeholder=\"Search for friend, post or video\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"topbarRight\">\r\n                <div className=\"topbarLinks\">\r\n                    <span className=\"topbarLink\">Homepage</span>\r\n                    <span className=\"topbarLink\">Timeline</span>\r\n                </div>\r\n                <div className=\"topbarIcons\">\r\n                    <div className=\"topbarIconItem\">\r\n                        <Person />\r\n                        <span className=\"topbarIconBadge\">1</span>\r\n                    </div>\r\n                    <div className=\"topbarIconItem\">\r\n                        <Link to={\"/messenger/\" + user._id} style={{ textDecoration: \"none\", color: \"white\" }}>\r\n                            <Chat />\r\n                        </Link>\r\n                        <span className=\"topbarIconBadge\">2</span>\r\n                    </div>\r\n                    <div className=\"topbarIconItem\">\r\n                        <Notifications />\r\n                        <span className=\"topbarIconBadge\">1</span>\r\n                    </div>\r\n                </div>\r\n                <Link to={`/profile/${user.username}`}>\r\n                    <img src={user.profilePicture ? PF + user.profilePicture : PF + \"person/noAvatar.png\"} alt=\"\" className=\"topbarImg\" />\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const Users = [\r\n    {\r\n        id: 1,\r\n        profilePicture: \"person/1.jpeg\",\r\n        username: \"Sơn Tùng\",\r\n    },\r\n    {\r\n        id: 2,\r\n        profilePicture: \"person/2.jpeg\",\r\n        username: \"Bùi Anh Tuấn\",\r\n    },\r\n    {\r\n        id: 3,\r\n        profilePicture: \"person/3.jpeg\",\r\n        username: \"Ly Ly\",\r\n    },\r\n    {\r\n        id: 4,\r\n        profilePicture: \"person/4.jpeg\",\r\n        username: \"Soobin Hoàng Sơn\",\r\n    },\r\n    {\r\n        id: 5,\r\n        profilePicture: \"person/5.jpeg\",\r\n        username: \"Tlinh\",\r\n    }\r\n];\r\n\r\nexport const Posts = [\r\n    {\r\n        id: 1,\r\n        desc: \"Love Food\",\r\n        photo: \"post/1.jpeg\",\r\n        date: \"5 mins ago\",\r\n        userId: 1,\r\n        like: 32,\r\n        comment: 9,\r\n    },\r\n    {\r\n        id: 2,\r\n        photo: \"post/2.jpeg\",\r\n        date: \"15 mins ago\",\r\n        userId: 2,\r\n        like: 2,\r\n        comment: 1,\r\n    },\r\n    {\r\n        id: 3,\r\n        desc: \"Every moment is a fresh beginning.\",\r\n        photo: \"post/3.jpeg\",\r\n        date: \"1 hour ago\",\r\n        userId: 3,\r\n        like: 61,\r\n        comment: 2,\r\n    },\r\n    {\r\n        id: 4,\r\n        photo: \"post/4.jpeg\",\r\n        date: \"4 hours ago\",\r\n        userId: 4,\r\n        like: 7,\r\n        comment: 3,\r\n    },\r\n    {\r\n        id: 5,\r\n        photo: \"post/5.jpeg\",\r\n        date: \"5 hours ago\",\r\n        userId: 5,\r\n        like: 23,\r\n        comment: 5,\r\n    },\r\n];","import './closeFriend.css'\r\n\r\nexport default function CloseFriend({ user }) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n    return (\r\n        <li className=\"sidebarFriend\">\r\n            <img className=\"sidebarFriendImg\" src={PF + user.profilePicture} alt=\"\" />\r\n            <span className=\"sidebarFriendName\">{user.username}</span>\r\n        </li>\r\n    )\r\n}\r\n","import './sidebar.css'\r\nimport { RssFeed, Chat, PlayCircleFilled, Group, Bookmark, Help, WorkOutline, Event, School } from '@material-ui/icons'\r\nimport { Users } from '../../dummyData'\r\nimport CloseFriend from '../closeFriend/CloseFriend'\r\n\r\nexport default function Sidebar() {\r\n    return (\r\n        <div className=\"sidebar\">\r\n            <div className=\"sidebarwrapper\">\r\n                <ul className=\"sidebarList\">\r\n                    <li className=\"sidebarListItem\">\r\n                        <RssFeed className=\"sidebarIcon\" />\r\n                        <span className=\"sidebarItemText\">Feed</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Chat className=\"sidebarIcon\" />\r\n                        <span className=\"sidebarItemText\">Chats</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <PlayCircleFilled className=\"sidebarIcon\" />\r\n                        <span className=\"sidebarItemText\">Videos</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Group className=\"sidebarIcon\" />\r\n                        <span className=\"sidebarItemText\">Groups</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Bookmark className=\"sidebarIcon\" />\r\n                        <span className=\"sidebarItemText\">Bookmarks</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Help className=\"sidebarIcon\" />\r\n                        <span className=\"sidebarItemText\">Questions</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <WorkOutline className=\"sidebarIcon\" />\r\n                        <span className=\"sidebarItemText\">Jobs</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Event className=\"sidebarIcon\" />\r\n                        <span className=\"sidebarItemText\">Events</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <School className=\"sidebarIcon\" />\r\n                        <span className=\"sidebarItemText\">Courses</span>\r\n                    </li>\r\n                </ul>\r\n                <button className=\"sidebarButton\">Show More</button>\r\n                <hr className=\"sidebarHr\" />\r\n                <ul className=\"sidebarFriendList\">\r\n                    {Users.map(u => (\r\n                        <CloseFriend key={u.id} user={u} />\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import './post.css'\r\nimport { MoreVert } from '@material-ui/icons'\r\n// import { Users } from '../../dummyData'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { format } from 'timeago.js'\r\nimport { Link } from 'react-router-dom'\r\nimport { AuthContext } from '../../context/AuthContext'\r\n\r\nexport default function Post({ post }) {\r\n    const [like, setLike] = useState(post.likes.length)\r\n    const [isLiked, setIsLiked] = useState(false)\r\n    const [user, setUser] = useState({})\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const { user: currentUser } = useContext(AuthContext)\r\n\r\n    useEffect(() => {\r\n        setIsLiked(post.likes.includes(currentUser._id))\r\n    }, [currentUser._id, post.likes])\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            const res = await axios.get(`/users?userId=${post.userId}`)\r\n            setUser(res.data);\r\n        }\r\n        fetchUser();\r\n    }, [post.userId])\r\n\r\n    const deletePost = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.delete(`/posts/${post._id}`, { userId: currentUser._id });\r\n            // window.location.reload();\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n        console.log(post._id);\r\n    }\r\n\r\n    const likeHandler = () => {\r\n        try {\r\n            axios.put('/posts/' + post._id + '/like', { userId: currentUser._id })\r\n        } catch (e) {\r\n\r\n        }\r\n        console.log(post._id);\r\n        setLike(isLiked ? like - 1 : like + 1)\r\n        setIsLiked(!isLiked)\r\n    }\r\n    return (\r\n        <div className=\"post\">\r\n            <div className=\"postWrapper\">\r\n                <div className=\"postTop\">\r\n                    <div className=\"postTopLeft\">\r\n                        <Link to={`profile/${user.username}`}>\r\n                            <img className=\"postProfileImg\" src={user.profilePicture ? PF + user.profilePicture : PF + \"person/noAvatar.png\"} alt=\"\" />\r\n                        </Link>\r\n                        <span className=\"postUsername\">{user.username}</span>\r\n                        <span className=\"postDate\">{format(post.createdAt)}</span>\r\n                    </div>\r\n                    <div className=\"postTopRight\">\r\n                        <a href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" style={{ color: 'black' }}>\r\n                            <MoreVert className=\"\" />\r\n                        </a>\r\n                        <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                            <button class=\"dropdown-item\" onClick={deletePost}>Xóa bài viết</button>\r\n                            <button class=\"dropdown-item\" href=\"#\">Sửa bài viết</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"postCenter\">\r\n                    <span className=\"postText\">{post?.desc}</span>\r\n                    <img className=\"postImg\" src={PF + post.img} alt=\"\" />\r\n                </div>\r\n                <div className=\"postBottom\">\r\n                    <div className=\"postBottomLeft\">\r\n                        <img className=\"likeIcon\" src={`${PF}like.png`} onClick={likeHandler} alt=\"\" />\r\n                        <img className=\"likeIcon\" src={`${PF}heart.png`} onClick={likeHandler} alt=\"\" />\r\n                        <span className=\"postLikeCounter\">{like} people liked it</span>\r\n                    </div>\r\n                    <div className=\"postBottomRight\">\r\n                        <span className=\"postCommentText\">{post.comment} comments</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import './share.css'\r\nimport { PermMedia, Label, Room, EmojiEmotions, Cancel } from '@material-ui/icons'\r\nimport { useContext, useRef, useState } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport axios from 'axios';\r\n\r\nexport default function Share() {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const { user } = useContext(AuthContext)\r\n    const desc = useRef();\r\n    const [file, setFile] = useState(null);\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n        const newPost = {\r\n            userId: user._id,\r\n            desc: desc.current.value\r\n        }\r\n        if (file) {\r\n            const data = new FormData();\r\n            const fileName = Date.now() + file.name;\r\n            data.append(\"name\", fileName);\r\n            data.append(\"file\", file);\r\n            newPost.img = fileName;\r\n            console.log(newPost);\r\n            try {\r\n                await axios.post(\"/upload\", data);\r\n                window.location.reload();\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n\r\n        try {\r\n            await axios.post(\"/posts\", newPost);\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"share\">\r\n            <div className=\"shareWrapper\">\r\n                <div className=\"shareTop\">\r\n                    <img className=\"shareProfileImg\" src={user.profilePicture ? PF + user.profilePicture : PF + \"person/noAvatar.png\"} alt=\"\" />\r\n                    <input type=\"text\" className=\"shareInput\" placeholder={\"What's in your mind \" + user.username + \"?\"} ref={desc} />\r\n                </div>\r\n                <hr className=\"shareHr\" />\r\n                {file && (\r\n                    <div className=\"shareImgContainer\">\r\n                        <img className=\"shareImg\" src={URL.createObjectURL(file)} alt=\"\" />\r\n                        <Cancel className=\"shareCancelImg\" onClick={() => setFile(null)} />\r\n                    </div>\r\n                )}\r\n                <form className=\"shareBottom\" onSubmit={submitHandler} >\r\n                    <div className=\"shareOptions\">\r\n                        <label htmlFor=\"file\" className=\"shareOption\">\r\n                            <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\r\n                            <span className=\"shareOptionText\">Photo or Video</span>\r\n                            <input style={{ display: \"none\" }} type=\"file\" id=\"file\" accept=\".png, .jpeg, .jpg\" onChange={(e) => setFile(e.target.files[0])} />\r\n                        </label>\r\n                        <div className=\"shareOption\">\r\n                            <Label htmlColor=\"blue\" className=\"shareIcon\" />\r\n                            <span className=\"shareOptionText\">Tag</span>\r\n                        </div>\r\n                        <div className=\"shareOption\">\r\n                            <Room htmlColor=\"green\" className=\"shareIcon\" />\r\n                            <span className=\"shareOptionText\">Location</span>\r\n                        </div>\r\n                        <div className=\"shareOption\">\r\n                            <EmojiEmotions htmlColor=\"goldenrod\" className=\"shareIcon\" />\r\n                            <span className=\"shareOptionText\">Feelings</span>\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"shareButton\" type=\"submit\">Share</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import Post from '../post/Post'\r\nimport Share from '../share/Share'\r\nimport './feed.css'\r\n// import { Posts } from '../../dummyData'\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios'\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\nexport default function Feed({ username }) {\r\n    const [posts, setPosts] = useState([]);\r\n    const { user } = useContext(AuthContext)\r\n\r\n    useEffect(() => {\r\n        const fetchPosts = async () => {\r\n            const res = username\r\n                ? await axios.get('/posts/profile/' + username)\r\n                : await axios.get('posts/timeline/' + user._id)\r\n            setPosts(res.data.sort((p1, p2) => {\r\n                return new Date(p2.createdAt) - new Date(p1.createdAt)\r\n            }));\r\n        }\r\n        fetchPosts();\r\n    }, [username, user._id])\r\n    return (\r\n        <div className=\"feed\">\r\n            <div className=\"feedWrapper\">\r\n                {username === user.username && <Share />}\r\n                {posts.map((p) => (\r\n                    <Post key={p._id} post={p} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import './online.css'\r\n// import { Link } from 'react-router-dom'\r\n// import { useEffect, useState } from 'react'\r\n\r\nexport default function Online({ user }) {\r\n    // const [user, setUser] = useState({})\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n    // useEffect(() => {\r\n    //     const fetchUser = async () => {\r\n    //         const res = await axios.get(`users/${post.userId}`)\r\n    //         setUser(res.data);\r\n    //     }\r\n    //     fetchUser();\r\n    // }, [post.userId])\r\n\r\n    return (\r\n        <li className=\"rightbarFriend\">\r\n            <div className=\"rightbarProfileImgContainer\">\r\n                <img className=\"rightbarProfileImg\" src={PF + user.profilePicture} alt=\"\" />\r\n                <span className=\"rightbarOnline\"></span>\r\n            </div>\r\n            <span className=\"rightbarUsername\">{user.username}</span>\r\n        </li>\r\n    )\r\n}\r\n","import './rightbar.css'\r\nimport { Users } from '../../dummyData'\r\nimport Online from '../online/Online'\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { Add, Remove } from '@material-ui/icons'\r\n\r\nexport default function Rightbar({ user }) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const [friends, setFriends] = useState([]);\r\n    const { user: currentUser, dispatch } = useContext(AuthContext);\r\n    // const username = useParams();\r\n    const [followed, setFollowed] = useState(\r\n        currentUser.followings.includes(user?.id)\r\n    );\r\n\r\n    useEffect(() => {\r\n        const getFriends = async () => {\r\n            try {\r\n                const friendList = await axios.get(\"/users/friends/\" + user._id)\r\n                setFriends(friendList.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n        getFriends();\r\n    }, [user]);\r\n\r\n    const handleClick = async () => {\r\n        try {\r\n            if (followed) {\r\n                await axios.put(\"/users/\" + user._id + \"/unfollow\", { userId: currentUser._id });\r\n                dispatch({ type: \"UNFOLLOW\", payload: user._id });\r\n            } else {\r\n                await axios.put(\"/users/\" + user._id + \"/follow\", { userId: currentUser._id });\r\n                dispatch({ type: \"FOLLOW\", payload: user._id });\r\n            }\r\n            setFollowed(!followed);\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    const HomeRightBar = () => {\r\n        return (\r\n            <>\r\n                <div className=\"birthdayContainer\">\r\n                    <img className=\"birthdayImg\" src={`${PF}gift.png`} alt=\"\" />\r\n                    <span className=\"birthdayText\"> <b>Minh Tuan</b> and <b>3 other frineds</b> have a birthday today</span>\r\n                </div>\r\n                <img className=\"rightbarAd\" src=\"assets/ad.png\" alt=\"\" />\r\n                <h4 className=\"rightbarTitle\">Online Friends</h4>\r\n                <ul className=\"rightbarFriendList\">\r\n                    {Users.map(u => (\r\n                        <Online key={u.id} user={u} />\r\n                    ))}\r\n                </ul>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const ProfileRightBar = () => {\r\n        return (\r\n            <>\r\n                {user.username !== currentUser.username && (\r\n                    <button className=\"rightbarFollowButton\" onClick={handleClick} >\r\n                        {followed ? \"Unfollow\" : \"Follow\"}\r\n                        {followed ? <Remove /> : <Add />}\r\n                    </button>\r\n                )}\r\n                <h4 className=\"rightbarTitle\">User Infomation</h4>\r\n                <div className=\"rightbarInfo\">\r\n                    <div className=\"rightbarInfoItem\">\r\n                        <span className=\"rightbarInfoKey\">City:</span>\r\n                        <span className=\"rightbarInfoValue\">{user.city}</span>\r\n                    </div>\r\n                    <div className=\"rightbarInfoItem\">\r\n                        <span className=\"rightbarInfoKey\">From:</span>\r\n                        <span className=\"rightbarInfoValue\">{user.from}</span>\r\n                    </div>\r\n                    <div className=\"rightbarInfoItem\">\r\n                        <span className=\"rightbarInfoKey\">Relationship:</span>\r\n                        <span className=\"rightbarInfoValue\">{user.relationship === 1 ? \"Single\" : user.relationship === 2 ? \"Married\" : \"-\"}</span>\r\n                    </div>\r\n                    <h4 className=\"rightbarTitle\">User Friends</h4>\r\n                    <div className=\"rightbarFollowings\">\r\n                        {friends.map((friend) => (\r\n                            <Link to={\"/profile/\" + friend.username} style={{ textDecoration: \"none\", color: \"black\" }}>\r\n                                <div className=\"rightbarFollowing\">\r\n                                    <img className=\"rightbarFollowingImg\" src={friend.profilePicture ? PF + friend.profilePicture : PF + \"person/noAvatar.png\"} alt=\"\" />\r\n                                    <span className=\"rightbarFollowingName\">{friend.username}</span>\r\n                                </div>\r\n                            </Link>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n    return (\r\n        <div className=\"rightbar\">\r\n            <div className=\"rightbarWrapper\">\r\n                {user ? <ProfileRightBar /> : <HomeRightBar />}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import Topbar from \"../../components/topbar/Topbar\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport Rightbar from \"../../components/rightbar/Rightbar\";\r\nimport './home.css'\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nexport default function Home() {\r\n    const { user } = useContext(AuthContext)\r\n\r\n    return (\r\n        <>\r\n            <Topbar />\r\n            <div className=\"homeContainer\">\r\n                <Sidebar />\r\n                <Feed username={user.username} />\r\n                <Rightbar />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import axios from 'axios'\r\n\r\nexport const loginCall = async (userCredentail, dispatch) => {\r\n    dispatch({ type: 'LOGIN_START' });\r\n    try {\r\n        const res = await axios.post(\"auth/login\", userCredentail);\r\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\r\n    } catch (err) {\r\n        dispatch({ type: \"LOGIN_FAILURE\", payload: err });\r\n    }\r\n}","import { useContext, useRef } from \"react\";\r\nimport \"./login.css\";\r\nimport { loginCall } from \"../../apiCalls\";\r\nimport { AuthContext } from \"../../context/AuthContext.js\"\r\nimport { CircularProgress } from '@material-ui/core'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Login() {\r\n    const email = useRef();\r\n    const password = useRef();\r\n    const { user, isFetching, error, dispatch } = useContext(AuthContext)\r\n\r\n    const handleClick = (e) => {\r\n        e.preventDefault();\r\n        loginCall({ email: email.current.value, password: password.current.value }, dispatch);\r\n    }\r\n\r\n    console.log(user)\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"loginWrapper\">\r\n                <div className=\"loginLeft\">\r\n                    <h3 className=\"loginLogo\">Facebook</h3>\r\n                    <span className=\"loginDesc\">\r\n                        Connect with friends and the world around you on Facebook.\r\n                    </span>\r\n                </div>\r\n                <div className=\"loginRight\">\r\n                    <form className=\"loginBox\" onSubmit={handleClick}>\r\n                        <input placeholder=\"Email\" type=\"email\" className=\"loginInput\" ref={email} required />\r\n                        <input placeholder=\"Password\" type=\"password\" className=\"loginInput\" ref={password} required minLength=\"6\" />\r\n                        <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>{isFetching ? <CircularProgress color=\"secondary\" size=\"20px\" /> : \"Log In\"}</button>\r\n                        <span className=\"loginForgot\">Forgot Password?</span>\r\n                        <button className=\"loginRegisterButton\">\r\n                            {isFetching ? <CircularProgress color=\"secondary\" size=\"20px\" /> : \"Create a New Account\"}\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import Topbar from \"../../components/topbar/Topbar\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport Rightbar from \"../../components/rightbar/Rightbar\";\r\nimport './profile.css'\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\"\r\n\r\nexport default function Profile() {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const [user, setUser] = useState({})\r\n    const username = useParams().username;\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            const res = await axios.get(`/users?username=${username}`)\r\n            setUser(res.data);\r\n        }\r\n        fetchUser();\r\n    }, [username])\r\n\r\n    return (\r\n        <>\r\n            <Topbar />\r\n            <div className=\"profile\">\r\n                <Sidebar />\r\n                <div className=\"profileRight\">\r\n                    <div className=\"profileRightTop\">\r\n                        <div className=\"profileCover\">\r\n                            <img className=\"profileCoverImg\" src={user.coverPicture ? PF + user.coverPicture : PF + \"person/noCover.png\"} alt=\"\" />\r\n                            <img className=\"profileUserImg\" src={user.profilePicture ? PF + user.profilePicture : PF + \"person/noAvatar.png\"} alt=\"\" />\r\n                        </div>\r\n                        <div className=\"profileInfo\">\r\n                            <h4 className=\"profileInfoName\">{user.username}</h4>\r\n                            <span className=\"profileInfoDesc\">{user.desc}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"profileRightBottom\">\r\n                        <Feed username={username} />\r\n                        <Rightbar user={user} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import \"./register.css\";\r\nimport { useRef } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Register() {\r\n    const username = useRef();\r\n    const email = useRef();\r\n    const password = useRef();\r\n    const passwordAgain = useRef();\r\n    const history = useHistory();\r\n\r\n    const handleClick = async (e) => {\r\n        e.preventDefault();\r\n        if (passwordAgain.current.value !== password.current.value) {\r\n            password.current.setCustomValidity(\"Password don't match\");\r\n        } else {\r\n            const user = {\r\n                username: username.current.value,\r\n                email: email.current.value,\r\n                password: password.current.value,\r\n            }\r\n            try {\r\n                const res = await axios.post(\"/auth/register\", user);\r\n                history.push(\"/login\")\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"loginWrapper\">\r\n                <div className=\"loginLeft\">\r\n                    <h3 className=\"loginLogo\">Facebook</h3>\r\n                    <span className=\"loginDesc\">\r\n                        Connect with friends and the world around you on Facebook.\r\n                    </span>\r\n                </div>\r\n                <div className=\"loginRight\">\r\n                    <form className=\"loginBox\" onSubmit={handleClick}>\r\n                        <input placeholder=\"Username\" className=\"loginInput\" ref={username} required />\r\n                        <input placeholder=\"Email\" className=\"loginInput\" ref={email} required type=\"email\" />\r\n                        <input placeholder=\"Password\" className=\"loginInput\" ref={password} required type=\"password\" minLength=\"6\" />\r\n                        <input placeholder=\"Password Again\" className=\"loginInput\" ref={passwordAgain} required type=\"password\" />\r\n                        <button className=\"loginButton\" type=\"submit\">Sign Up</button>\r\n                        <Link to={'/login'} style={{ position: 'relative', right: '-90px', boxSizing: 'border-box' }}>\r\n                            <button className=\"loginRegisterButton\">\r\n                                Log into Account\r\n                            </button>\r\n                        </Link>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    );\r\n}","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./conversation.css\";\r\n\r\nexport default function Conversation({ conversation, currentUser }) {\r\n    const [user, setUser] = useState(null);\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n    useEffect(() => {\r\n        const friendId = conversation.members.find((m) => m !== currentUser._id);\r\n\r\n        const getUser = async () => {\r\n            try {\r\n                const res = await axios(\"/users?userId=\" + friendId);\r\n                setUser(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n        getUser();\r\n    }, [currentUser, conversation]);\r\n\r\n    return (\r\n        <div className=\"conversation\">\r\n            <img\r\n                className=\"conversationImg\"\r\n                src={\r\n                    user?.profilePicture\r\n                        ? PF + user.profilePicture\r\n                        : PF + \"person/noAvatar.png\"\r\n                }\r\n                alt=\"\"\r\n            />\r\n            <span className=\"conversationName\">{user?.username}</span>\r\n        </div>\r\n    );\r\n}","import \"./message.css\";\r\nimport { format } from \"timeago.js\";\r\n\r\nexport default function Message({ message, own }) {\r\n    return (\r\n        <div className={own ? \"message own\" : \"message\"}>\r\n            <div className=\"messageTop\">\r\n                <img\r\n                    className=\"messageImg\"\r\n                    src=\"https://images.pexels.com/photos/3686769/pexels-photo-3686769.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\"\r\n                    alt=\"\"\r\n                />\r\n                <p className=\"messageText\">{message.text}</p>\r\n            </div>\r\n            <div className=\"messageBottom\">{format(message.createdAt)}</div>\r\n        </div>\r\n    );\r\n}","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./chatOnline.css\";\r\n\r\nexport default function ChatOnline({ onlineUsers, currentId, setCurrentChat }) {\r\n    const [friends, setFriends] = useState([]);\r\n    const [onlineFriends, setOnlineFriends] = useState([]);\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n    useEffect(() => {\r\n        const getFriends = async () => {\r\n            const res = await axios.get(\"/users/friends/\" + currentId);\r\n            setFriends(res.data);\r\n        };\r\n\r\n        getFriends();\r\n    }, [currentId]);\r\n\r\n    useEffect(() => {\r\n        setOnlineFriends(friends.filter((f) => onlineUsers.includes(f._id)));\r\n    }, [friends, onlineUsers]);\r\n\r\n    const handleClick = async (user) => {\r\n        try {\r\n            const res = await axios.get(\r\n                `/conversations/find/${currentId}/${user._id}`\r\n            );\r\n            setCurrentChat(res.data);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"chatOnline\">\r\n            {onlineFriends.map((o) => (\r\n                <div className=\"chatOnlineFriend\" onClick={() => handleClick(o)}>\r\n                    <div className=\"chatOnlineImgContainer\">\r\n                        <img\r\n                            className=\"chatOnlineImg\"\r\n                            src={\r\n                                o?.profilePicture\r\n                                    ? PF + o.profilePicture\r\n                                    : PF + \"person/noAvatar.png\"\r\n                            }\r\n                            alt=\"\"\r\n                        />\r\n                        <div className=\"chatOnlineBadge\"></div>\r\n                    </div>\r\n                    <span className=\"chatOnlineName\">{o?.username}</span>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}","import \"./messenger.css\";\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Conversation from \"../../components/conversations/Conversation\";\r\nimport Message from \"../../components/message/Message\";\r\nimport ChatOnline from \"../../components/chatOnline/ChatOnline\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nexport default function Messenger() {\r\n    const [conversations, setConversations] = useState([]);\r\n    const [currentChat, setCurrentChat] = useState(null);\r\n    const [messages, setMessages] = useState([]);\r\n    const [newMessage, setNewMessage] = useState(\"\");\r\n    const [arrivalMessage, setArrivalMessage] = useState(null);\r\n    const [onlineUsers, setOnlineUsers] = useState([]);\r\n    const socket = useRef();\r\n    const { user } = useContext(AuthContext);\r\n    const scrollRef = useRef();\r\n\r\n    useEffect(() => {\r\n        socket.current = io(\"ws://localhost:8900\");\r\n        socket.current.on(\"getMessage\", (data) => {\r\n            setArrivalMessage({\r\n                sender: data.senderId,\r\n                text: data.text,\r\n                createdAt: Date.now(),\r\n            });\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        arrivalMessage &&\r\n            currentChat?.members.includes(arrivalMessage.sender) &&\r\n            setMessages((prev) => [...prev, arrivalMessage]);\r\n    }, [arrivalMessage, currentChat]);\r\n\r\n    useEffect(() => {\r\n        socket.current.emit(\"addUser\", user._id);\r\n        socket.current.on(\"getUsers\", (users) => {\r\n            setOnlineUsers(\r\n                user.followings.filter((f) => users.some((u) => u.userId === f))\r\n            );\r\n        });\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        const getConversations = async () => {\r\n            try {\r\n                const res = await axios.get(\"/conversations/\" + user._id);\r\n                setConversations(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n        getConversations();\r\n    }, [user._id]);\r\n\r\n    useEffect(() => {\r\n        const getMessages = async () => {\r\n            try {\r\n                const res = await axios.get(\"/messages/\" + currentChat?._id);\r\n                setMessages(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n        getMessages();\r\n    }, [currentChat]);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const message = {\r\n            sender: user._id,\r\n            text: newMessage,\r\n            conversationId: currentChat._id,\r\n        };\r\n\r\n        const receiverId = currentChat.members.find(\r\n            (member) => member !== user._id\r\n        );\r\n\r\n        socket.current.emit(\"sendMessage\", {\r\n            senderId: user._id,\r\n            receiverId,\r\n            text: newMessage,\r\n        });\r\n\r\n        try {\r\n            const res = await axios.post(\"/messages\", message);\r\n            setMessages([...messages, res.data]);\r\n            setNewMessage(\"\");\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, [messages]);\r\n\r\n    return (\r\n        <>\r\n            <Topbar />\r\n            <div className=\"messenger\">\r\n                <div className=\"chatMenu\">\r\n                    <div className=\"chatMenuWrapper\">\r\n                        <input placeholder=\"Search for friends\" className=\"chatMenuInput\" />\r\n                        {conversations.map((c) => (\r\n                            <div onClick={() => setCurrentChat(c)}>\r\n                                <Conversation conversation={c} currentUser={user} />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div className=\"chatBox\">\r\n                    <div className=\"chatBoxWrapper\">\r\n                        {currentChat ? (\r\n                            <>\r\n                                <div className=\"chatBoxTop\">\r\n                                    {messages.map((m) => (\r\n                                        <div ref={scrollRef}>\r\n                                            <Message message={m} own={m.sender === user._id} />\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                                <div className=\"chatBoxBottom\">\r\n                                    <textarea\r\n                                        className=\"chatMessageInput\"\r\n                                        placeholder=\"write something...\"\r\n                                        onChange={(e) => setNewMessage(e.target.value)}\r\n                                        value={newMessage}\r\n                                    ></textarea>\r\n                                    <button className=\"chatSubmitButton\" onClick={handleSubmit}>\r\n                                        Send\r\n                                    </button>\r\n                                </div>\r\n                            </>\r\n                        ) : (\r\n                            <span className=\"noConversationText\">\r\n                                Open a conversation to start a chat.\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div className=\"chatOnline\">\r\n                    <div className=\"chatOnlineWrapper\">\r\n                        <ChatOnline\r\n                            onlineUsers={onlineUsers}\r\n                            currentId={user._id}\r\n                            setCurrentChat={setCurrentChat}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}","import Home from \"./pages/home/Home\";\nimport Login from \"./pages/login/Login\";\nimport Profile from \"./pages/profile/Profile\";\nimport Register from \"./pages/register/Register\";\nimport Messenger from \"./pages/messenger/Messenger\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"./context/AuthContext\";\nfunction App() {\n  const { user } = useContext(AuthContext);\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          {user ? <Home /> : <Register />}\n        </Route>\n        <Route path=\"/login\">\n          {user ? <Redirect to=\"/\" /> : <Login />}\n        </Route>\n        <Route path=\"/register\">\n          {user ? <Redirect to=\"/\" /> : <Register />}\n        </Route>\n        <Route path=\"/profile/:username\">\n          <Profile />\n        </Route>\n        <Route path=\"/messenger/:userId\">\n          {!user ? <Redirect to=\"/\" /> : <Messenger />}\n        </Route>\n      </Switch>\n    </Router>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}